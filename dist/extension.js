"use strict";var me=Object.create;var I=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,be=Object.prototype.hasOwnProperty;var W=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),we=(e,t)=>{for(var n in t)I(e,n,{get:t[n],enumerable:!0})},K=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of he(t))!be.call(e,o)&&o!==n&&I(e,o,{get:()=>t[o],enumerable:!(r=pe(t,o))||r.enumerable});return e};var R=(e,t,n)=>(n=e!=null?me(ve(e)):{},K(t||!e||!e.__esModule?I(n,"default",{value:e,enumerable:!0}):n,e)),Se=e=>K(I({},"__esModule",{value:!0}),e);var G=W(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});var J;function Q(){if(J===void 0)throw new Error("No runtime abstraction layer installed");return J}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");J=n}e.install=t})(Q||(Q={}));V.default=Q});var $=W(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.config=v.loadMessageBundle=v.localize=v.format=v.setPseudo=v.isPseudo=v.isDefined=v.BundleFormat=v.MessageFormat=void 0;var se=G(),Re;(function(e){e.file="file",e.bundle="bundle",e.both="both"})(Re=v.MessageFormat||(v.MessageFormat={}));var Ce;(function(e){e.standalone="standalone",e.languagePack="languagePack"})(Ce=v.BundleFormat||(v.BundleFormat={}));var oe;(function(e){function t(n){var r=n;return r&&_(r.key)&&_(r.comment)}e.is=t})(oe||(oe={}));function _(e){return typeof e<"u"}v.isDefined=_;v.isPseudo=!1;function Te(e){v.isPseudo=e}v.setPseudo=Te;function ae(e,t){var n;return v.isPseudo&&(e="\uFF3B"+e.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t.length===0?n=e:n=e.replace(/\{(\d+)\}/g,function(r,o){var u=o[0],a=t[u],s=r;return typeof a=="string"?s=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(s=String(a)),s}),n}v.format=ae;function Me(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return ae(t,n)}v.localize=Me;function Ae(e){return(0,se.default)().loadMessageBundle(e)}v.loadMessageBundle=Ae;function Ie(e){return(0,se.default)().config(e)}v.config=Ie});var Y=W(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.config=E.loadMessageBundle=E.BundleFormat=E.MessageFormat=void 0;var P=require("path"),x=require("fs"),Oe=G(),k=$(),ce=$();Object.defineProperty(E,"MessageFormat",{enumerable:!0,get:function(){return ce.MessageFormat}});Object.defineProperty(E,"BundleFormat",{enumerable:!0,get:function(){return ce.BundleFormat}});var le=Object.prototype.toString;function je(e){return le.call(e)==="[object Number]"}function N(e){return le.call(e)==="[object String]"}function Le(e){return e===!0||e===!1}function C(e){return JSON.parse(x.readFileSync(e,"utf8"))}var j,g;function De(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:k.MessageFormat.bundle},N(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];N(n)&&(t=n)}if(N(e.locale)&&(g.locale=e.locale.toLowerCase()),t===void 0?g.language=g.locale:t!=="en"&&(g.language=t),Le(e._languagePackSupport)&&(g.languagePackSupport=e._languagePackSupport),N(e._cacheRoot)&&(g.cacheRoot=e._cacheRoot),N(e._languagePackId)&&(g.languagePackId=e._languagePackId),N(e._translationsConfigFile)){g.translationsConfigFile=e._translationsConfigFile;try{g.translationsConfig=C(g.translationsConfigFile)}catch{if(e._corruptedFile){var r=P.dirname(e._corruptedFile);x.exists(r,function(u){u&&x.writeFile(e._corruptedFile,"corrupted","utf8",function(a){console.error(a)})})}}}}catch{}(0,k.setPseudo)(g.locale==="pseudo"),j=Object.create(null)}De();function He(){return g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0}function X(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(je(t)){if(t>=e.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack));return}return(0,k.format)(e[t],r)}else{if(N(n))return console.warn("Message ".concat(n," didn't get externalized correctly.")),(0,k.format)(n,r);console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}}function ze(e){var t;if(g.cacheLanguageResolution&&t)t=t;else{if(k.isPseudo||!g.language)t=".nls.json";else for(var n=g.language;n;){var r=".nls."+n+".json";if(x.existsSync(e+r)){t=r;break}else{var o=n.lastIndexOf("-");o>0?n=n.substring(0,o):(t=".nls.json",n=null)}}g.cacheLanguageResolution&&(t=t)}return e+t}function qe(e){for(var t=g.language;t;){var n=P.join(e,"nls.bundle.".concat(t,".json"));if(x.existsSync(n))return n;var r=t.lastIndexOf("-");r>0?t=t.substring(0,r):t=void 0}if(t===void 0){var n=P.join(e,"nls.bundle.json");if(x.existsSync(n))return n}}function We(e){var t=C(P.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var o=t[r];n[r]=o.messages}return n}function Je(e,t){var n=g.translationsConfig[e.id];if(n){var r=C(n).contents,o=C(P.join(t,"nls.metadata.json")),u=Object.create(null);for(var a in o){var s=o[a],c=r["".concat(e.outDir,"/").concat(a)];if(c){for(var m=[],f=0;f<s.keys.length;f++){var p=s.keys[f],l=N(p)?p:p.key,i=c[l];i===void 0&&(i=s.messages[f]),m.push(i)}u[a]=m}else u[a]=s.messages}return u}}function Qe(e){var t=new Date;x.utimes(e,t,t,function(){})}function Z(e,t){return j[e]=t,t}function Ve(e,t){var n,r=P.join(g.cacheRoot,"".concat(e.id,"-").concat(e.hash,".json")),o=!1,u=!1;try{return n=JSON.parse(x.readFileSync(r,{encoding:"utf8",flag:"r"})),Qe(r),n}catch(a){if(a.code==="ENOENT")u=!0;else if(a instanceof SyntaxError)console.log("Syntax error parsing message bundle: ".concat(a.message,".")),x.unlink(r,function(s){s&&console.error("Deleting corrupted bundle ".concat(r," failed."))}),o=!0;else throw a}if(n=Je(e,t),!n||o)return n;if(u)try{x.writeFileSync(r,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(a){if(a.code==="EEXIST")return n;throw a}return n}function ie(e){try{return We(e)}catch(t){console.log("Generating default bundle from meta data failed.",t);return}}function Ge(e,t){var n;if(He())try{n=Ve(e,t)}catch(o){console.log("Load or create bundle failed ",o)}if(!n){if(g.languagePackSupport)return ie(t);var r=qe(t);if(r)try{return C(r)}catch(o){console.log("Loading in the box message bundle failed.",o)}n=ie(t)}return n}function _e(e){for(var t,n=P.dirname(e);t=P.join(n,"nls.metadata.header.json"),!x.existsSync(t);){var r=P.dirname(n);if(r===n){t=void 0;break}else n=r}return t}function U(e){if(!e)return k.localize;var t=P.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),g.messageFormat===k.MessageFormat.both||g.messageFormat===k.MessageFormat.bundle){var n=_e(e);if(n){var r=P.dirname(n),o=j[r];if(o===void 0)try{var u=JSON.parse(x.readFileSync(n,"utf8"));try{var a=Ge(u,r);o=Z(r,a?{header:u,nlsBundle:a}:null)}catch(f){console.error("Failed to load nls bundle",f),o=Z(r,null)}}catch(f){console.error("Failed to read header file",f),o=Z(r,null)}if(o){var s=e.substr(r.length+1).replace(/\\/g,"/"),c=o.nlsBundle[s];return c===void 0?(console.error("Messages for file ".concat(e," not found. See console for details.")),function(){return"Messages not found."}):X(c)}}}if(g.messageFormat===k.MessageFormat.both||g.messageFormat===k.MessageFormat.file)try{var m=C(ze(e));return Array.isArray(m)?X(m):(0,k.isDefined)(m.messages)&&(0,k.isDefined)(m.keys)?X(m.messages):(console.error("String bundle '".concat(e,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(f){f.code!=="ENOENT"&&console.error("Failed to load single file bundle",f)}return console.error("Failed to load message bundle for file ".concat(e)),function(){return"Failed to load message bundle. See console for details."}}E.loadMessageBundle=U;function ue(e){return e&&(N(e.locale)&&(g.locale=e.locale.toLowerCase(),g.language=g.locale,j=Object.create(null)),e.messageFormat!==void 0&&(g.messageFormat=e.messageFormat),e.bundleFormat===k.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,k.setPseudo)(g.locale==="pseudo"),U}E.config=ue;Oe.default.install(Object.freeze({loadMessageBundle:U,config:ue}))});var Ze={};we(Ze,{activate:()=>$e,deactivate:()=>Xe});module.exports=Se(Ze);var H=R(require("vscode"));var F=R(require("vscode"));var ee=R(require("vscode"));function O(e){let t=[],n=[],r={"(":")","{":"}","[":"]"},o=['"',"'"],u=ee.window.activeTextEditor?.document.languageId||"",a=ke(e),s=Fe(e,u),c=[...a,...s],m=null,f=-1;for(let p=0;p<e.length;p++){if(ye(p,c))continue;let l=e[p];if(o.includes(l)){m===null?(m=l,f=p):m===l&&(n.push({open:f,close:p,type:l}),m=null);continue}if(!m){if(r[l])t.push({char:l,pos:p});else if(Object.values(r).includes(l)){for(let i=t.length-1;i>=0;i--)if(r[t[i].char]===l){let d=t[i];n.push({open:d.pos,close:p,type:d.char}),t.splice(i,1);break}}}}return n}function ye(e,t){return t.some(n=>e>=n.start&&e<=n.end)}function ke(e){let t=[],n=!1,r=-1;for(let o=0;o<e.length;o++){let u=e[o];if(!n&&u==="/"){let a=e[o-1];if(!a||/\s|[\(\{;\n]/.test(a)){n=!0,r=o;continue}}else n&&u==="/"&&e[o-1]!=="\\"&&(t.push({start:r,end:o}),n=!1)}return t}function Fe(e,t){let n=[],r=[],o=(t||"").toString().trim().toLowerCase();switch(o=o.replace(/^.*[\\/]/,""),o.includes(".")&&(o=o.split(".").pop()||o),o.startsWith(".")&&(o=o.slice(1)),o){case"js":case"ts":case"java":case"c":case"cpp":case"cs":r.push(/\/\/.*/g),r.push(/\/\*[\s\S]*?\*\//g);break;case"py":case"rb":r.push(/#.*$/gm),r.push(/('{3}|"{3})[\s\S]*?\1/gm);break;case"html":case"xml":r.push(/<!--[\s\S]*?-->/g);break;default:return n}for(let a of r){a.lastIndex=0;let s;for(;(s=a.exec(e))!==null;)n.push({start:s.index,end:s.index+s[0].length-1}),s[0].length===0&&a.lastIndex++}n.sort((a,s)=>a.start-s.start);let u=[];for(let a of n)if(!u.length)u.push({...a});else{let s=u[u.length-1];a.start<=s.end+1?s.end=Math.max(s.end,a.end):u.push({...a})}return u}var xe=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),te=new Map;function Pe(e){let t={tag:"root",start:0,end:e.length-1,children:[]},n=[t],r=/<\/?([a-zA-Z0-9-]+)(\s[^<>]*?)?(\/?)>/g,o;for(;(o=r.exec(e))!==null;){let[u,a,s,c]=o,m=o.index,f=o.index+u.length-1,p=n[n.length-1];if(u.startsWith("</")){for(let l=n.length-1;l>=0;l--)if(n[l].tag===a){let i=n[l];i.end=f,n.splice(l);break}}else{let l={tag:a,start:m,end:f,children:[],parent:p};p.children.push(l),c==="/"||xe.has(a.toLowerCase())?l.end=f:n.push(l)}}return t}function Be(e){let t=e.uri.toString(),n=te.get(t);if(n&&n.version===e.version)return n.root.children;let r=e.getText(),o=Pe(r);return te.set(t,{version:e.version,root:o}),o.children}function ne(e,t,n){if(e.tag!=="root"){t.push({open:e.start,close:e.end,type:e.tag});let o=n.slice(e.start,e.end+1).match(/^<[^>]+>/);if(o){let u=o[0],a=/([^\s=]+)\s*=\s*("([^"]*)"|'([^']*)')/g,s,c=!1;for(;(s=a.exec(u))!==null;){let m=s[1],f=s[0],p=s[2][0],l=s[3]??s[4],i=e.start+s.index,d=i+f.length,h=i+f.indexOf(p)+1,b=h+l.length;t.push({open:h,close:b,type:"attrValue"}),t.push({open:i,close:d,type:"attr"}),c||(t.push({open:e.start,close:e.start+u.length,type:"openTag"}),c=!0)}}}for(let r of e.children)ne(r,t,n)}function re(){let e=F.window.activeTextEditor;if(!e)return;e.document.languageId==="html"?Ee():Ne()}var S=[];function Ee(){let e=F.window.activeTextEditor;if(!e)return;let t=e.document,n=t.getText(),r=e.selections,o=[],u=Be(t);for(let s of u)ne(s,o,n);if(o.length===0)return;S.length<r.length?S=[...S,...Array(r.length-S.length).fill(-1)]:S.length>r.length&&(S=S.slice(0,r.length));let a=r.map((s,c)=>{let m=t.offsetAt(s.start),f=t.offsetAt(s.end);(s.isEmpty||S[c]===-1)&&(S[c]=m);let p=o.filter(d=>d.open<=m&&d.close>=f).sort((d,h)=>d.close-d.open-(h.close-h.open));if(p.length===0){if(S[c]!==-1){let d=t.positionAt(S[c]);return S[c]=-1,new F.Selection(d,d)}return s}let l={start:m,end:f},i;for(let d=0;d<p.length;d++){let h=p[d];if(h.type==="attrValue"){if(l.start===h.open&&l.end===h.close){let b=p.find(w=>w.type==="attr"&&w.open<=h.open&&w.close>=h.close);b&&(i={start:b.open,end:b.close})}else i={start:h.open,end:h.close};break}else if(h.type==="attr"){if(l.start===h.open&&l.end===h.close){let b=p.find(w=>w.type==="openTag"&&w.open<=h.open&&w.close>=h.close);b&&(i={start:b.open,end:b.close})}else i={start:h.open,end:h.close};break}else if(h.type==="openTag"){let b=p.find(w=>!["attr","attrValue","openTag"].includes(w.type));b&&(i={start:b.open,end:b.close+1});break}else{let b=n.indexOf(">",h.open),w=n.lastIndexOf("<",h.close);if(b!==-1&&w!==-1&&b+1<=w){let z={start:b+1,end:w},q={start:h.open,end:h.close+1};if(l.start===z.start&&l.end===z.end)i=q;else if(l.start===q.start&&l.end===q.end){if(d+1<p.length){let A=p[d+1];i={start:A.open,end:A.close+1}}else if(S[c]!==-1){let A=t.positionAt(S[c]);return S[c]=-1,new F.Selection(A,A)}}else i=z;break}}}if(i)return new F.Selection(t.positionAt(i.start),t.positionAt(i.end));if(S[c]!==-1){let d=t.positionAt(S[c]);return S[c]=-1,new F.Selection(d,d)}return s});e.selections=a}var y=[];function Ne(){let e=F.window.activeTextEditor;if(!e)return;let t=e.document,n=t.getText(),r=e.selections,o=O(n);if(o.length===0)return;y.length<r.length?y=[...y,...Array(r.length-y.length).fill(-1)]:y.length>r.length&&(y=y.slice(0,r.length));let u=r.map((a,s)=>{let c=t.offsetAt(a.start),m=t.offsetAt(a.end);(a.isEmpty||y[s]===-1)&&(y[s]=c);let f=o.filter(i=>i.open<=c&&i.close>=m).sort((i,d)=>i.close-i.open-(d.close-d.open));if(f.length===0){if(y[s]!==-1){let i=t.positionAt(y[s]);return y[s]=-1,new F.Selection(i,i)}return a}let p={start:c,end:m},l;for(let i=0;i<f.length;i++){let d=f[i],h={start:d.open+1,end:d.close},b={start:d.open,end:d.close+1};if(p.start===h.start&&p.end===h.end){l=b;break}else if(p.start===b.start&&p.end===b.end){if(i+1<f.length){let w=f[i+1];l={start:w.open+1,end:w.close}}else if(y[s]!==-1){let w=t.positionAt(y[s]);return y[s]=-1,new F.Selection(w,w)}break}else{l=h;break}}if(l)return new F.Selection(t.positionAt(l.start),t.positionAt(l.end));if(y[s]!==-1){let i=t.positionAt(y[s]);return y[s]=-1,new F.Selection(i,i)}return a});e.selections=u}var L=R(require("vscode")),T=R(Y());T.config({messageFormat:T.MessageFormat.file})();var fe=T.loadMessageBundle();function de(){let e=L.window.activeTextEditor;if(!e)return;let t=e.document;L.window.showInputBox({prompt:fe("prompt.wrapWithString","Wrap with string:")}).then(n=>{if(!n||n.length===0)return;let r={"(":")","{":"}","[":"]",'"':'"',"'":"'","`":"`","<":">"},o=n,u=r[o]??o,a=[];if(e.selections.forEach(s=>{let c,m;if(s.isEmpty){let f=t.getWordRangeAtPosition(s.active);if(!f)return;c=f.start,m=f.end}else c=s.start,m=s.end;a.push({start:c,end:m})}),a.length===0){L.window.showInformationMessage(fe("message.noTargetToWrap","No target found to wrap"));return}e.edit(s=>{a.sort((c,m)=>t.offsetAt(m.start)-t.offsetAt(c.start)).forEach(c=>{s.insert(c.start,o),s.insert(c.end,u)})})})}var B=R(require("vscode")),M=R(Y());M.config({messageFormat:M.MessageFormat.file})();var D=M.loadMessageBundle();function ge(){let e=B.window.activeTextEditor;if(!e)return;console.log(D("prompt.replaceBracketQuote","Replace bracket/quote:"));let t=e.document,n=t.getText(),r=O(n);if(r.length===0){B.window.showInformationMessage(D("message.noBrackets","No brackets or quotes found"));return}B.window.showInputBox({prompt:D("prompt.replaceBracketQuote","Replace bracket/quote:")}).then(o=>{if(o===void 0)return;let u={"(":")","{":"}","[":"]"},a=[];if(e.selections.forEach(s=>{let c=t.offsetAt(s.active),m=r.filter(d=>d.open<=c&&d.close>=c).sort((d,h)=>d.close-d.open-(h.close-h.open))[0];if(!m)return;let f=o,p=u[f]??o,l=t.positionAt(m.open),i=t.positionAt(m.close);a.push({range:new B.Range(l,l.translate(0,1)),text:f}),a.push({range:new B.Range(i,i.translate(0,1)),text:p})}),a.length===0){B.window.showInformationMessage(D("message.noOuterBrackets","No brackets or quotes found outside the cursor"));return}e.edit(s=>{a.forEach(c=>s.replace(c.range,c.text))}).then(()=>{let s=e.selection;e.revealRange(new B.Range(s.active,s.active),B.TextEditorRevealType.InCenter)})})}function $e(e){let t=H.commands.registerCommand("extension.changeSelection",re),n=H.commands.registerCommand("extension.surroundWithInput",de),r=H.commands.registerCommand("extension.replaceBracketsOrQuotes",ge);e.subscriptions.push(t),e.subscriptions.push(n),e.subscriptions.push(r)}function Xe(){}0&&(module.exports={activate,deactivate});
